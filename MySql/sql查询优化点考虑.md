
## sql查询优化点

>1 sql中绝对要减少函数的使用
    
    比如DATE_FORMAT(t.create_time, '%Y-%m-%d') 是绝对禁止使用的,如果数据库有一百万数据那么就会执行一百万次函数,非常非常影响效率所以去掉函数直接使用  >=,<= 或BETWEEN AND速度就会快很多,但有的数据库设计时间字段只有日期没有时间,所以需要在日期后面拼接时间如:"2017-01-01" + " 00:00:00"。更好的办法是用时间戳,数据库中存时间戳,然后拿时间戳去比较,如:BETWEEN '开始时间时间戳' AND '结束时间时间戳'

>2 避免like前后模糊匹配

    LIKE并且前后匹配,前后匹配会导致索引失效,一般情况下使用后模糊,应该改成  AND t.store_id LIKE '#{storeId}%'

>3 联合索引使用

    联合索引有一点需要注意:key index (a,b,c)可以支持a | a,b| a,b,c 3种组合进行查找,但不支持 b,c进行查找 ,当最左侧字段是常量引用时,索引就十分有效。

>4 JOIN 后的的条件必须是索引,最好是唯一索引,否则数据一旦很多会直接卡死

>5 一般禁止使用UNIION ON,除非UNION ON 前后的记录数很少 

>6 禁止使用OR

>7 查总数使用COUNT(*)就可以,不需要COUNT(ID),MYSQL会自动优化

>8 数据库字段设置 NOT NULL,字段类型 INT > VARCHAR 越小越好

>9 禁止SELECT  * ,需要确定到使用的字段

>10 一般情况不在SQL中进行数值计算

