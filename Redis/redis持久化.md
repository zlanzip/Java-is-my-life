
### Redis持久化

#### redis全量持久化

触发持久化操作的时候，redis会把触发时刻的所有状态的数据生成快照snapshpt,完全保存下来;当redis重启的时候，读最新的一份快照

写入过程

SAVE:客户端触发操作，串行执行（其他所有命令不会并发执行）
BGSAVE；客户端可以触发，可以配置定时任务(配置一定的逻辑)触发，也可以有slave节点触发。单独开一个线程并发执行持久化操
作。持久化的数据是开线程时的状态，会复制出一个副本，副本在整个过程中是不会变的。不影响redis的其他命令操作

BGSAVE相对于SAVE，redis可以在持久化过程中持续提供数据读写服务，但是需要保证Redis服务器的空闲内存足够

恢复流程
rdbLoad()方法


#### redis增量持久化
AOF持久化已日志的形式记录服务器所处处理的每一个写和删除操作。
有3中同步策略：每秒同步、每修改同步、不同步



